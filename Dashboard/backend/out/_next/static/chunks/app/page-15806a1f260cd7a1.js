(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2032:function(e,t,s){Promise.resolve().then(s.bind(s,5621))},5621:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var a=s(7437),r=s(2265),l=s(1994),o=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.m6)((0,l.W)(t))}let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});d.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("p-6 pt-0",s),...r})});x.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var m=s(535);let f=(0,m.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:n(f({variant:s}),t),...r})}var g=s(5293);let u=(0,m.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:o=!1,...d}=e,i=o?g.g7:"button";return(0,a.jsx)(i,{className:n(u({variant:r,size:l,className:s})),ref:t,...d})});p.displayName="Button";let b=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:n("w-full caption-bottom text-sm",s),...r})})});b.displayName="Table";let j=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:n("[&_tr]:border-b",s),...r})});j.displayName="TableHeader";let y=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:n("[&_tr:last-child]:border-0",s),...r})});y.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:n("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let N=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:n("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});N.displayName="TableRow";let v=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:n("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});v.displayName="TableHead";let w=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:n("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});w.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:n("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption";var C=s(7625),k=s(2953),R=s(6940),T=s(7059),F=s(2027),A=s(9783),Z=s(3026),_=s(2208),S=s(7168),D=s(4401),z=s(1671),E=s(9388),I=s(1723),B=s(6328),M=s(2489);let O=B.fC,V=B.xz,P=B.h_;B.x8;let H=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(B.aV,{ref:t,className:n("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});H.displayName=B.aV.displayName;let K=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(P,{children:[(0,a.jsx)(H,{}),(0,a.jsxs)(B.VY,{ref:t,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,a.jsxs)(B.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(M.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});K.displayName=B.VY.displayName;let W=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:n("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};W.displayName="DialogHeader";let G=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(B.Dx,{ref:t,className:n("text-lg font-semibold leading-none tracking-tight",s),...r})});function L(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[o,n]=(0,r.useState)(!0),[m,f]=(0,r.useState)(!1),g=async()=>{try{let e=await fetch("http://localhost:5000/api/detections"),s=await e.json();t(s),l(s.slice(-20).map(e=>({time:e.timestamp,tempo:e.tempoInferencia})))}catch(e){console.error("Erro ao buscar dados:",e)}},u=async()=>{try{await fetch("http://localhost:5000/detections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tempo_ms:Math.floor(200*Math.random())+50,objetos:[{classe:"Produto D",categoria:"Caixa",correto:Math.random()>.5}]})})}catch(e){console.error("Erro ao enviar simula\xe7\xe3o:",e)}};(0,r.useEffect)(()=>{if(g(),o){let e=setInterval(g,2e3);return()=>clearInterval(e)}},[o]);let B=e.length,M=e.filter(e=>e.correto).length,P=e.filter(e=>!e.correto).length,H=e.length>0?Math.round(e.reduce((e,t)=>e+t.tempoInferencia,0)/e.length):0,L={Blister:e.filter(e=>"Blister"===e.categoria).length,Frasco:e.filter(e=>"Frasco"===e.categoria).length,Caixa:e.filter(e=>"Caixa"===e.categoria).length};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-fuchsia-600 to-pink-600 rounded-lg",children:(0,a.jsx)(_.Z,{className:"h-8 w-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-fuchsia-400 to-pink-400 bg-clip-text text-transparent",children:"Dashboard de Vis\xe3o Computacional"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Monitoramento em tempo real - Raspberry Pi"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(p,{onClick:()=>n(!o),variant:o?"default":"outline",className:o?"bg-gradient-to-r from-fuchsia-600 to-pink-600 hover:from-fuchsia-700 hover:to-pink-700":"border-gray-600 text-gray-300 hover:bg-gray-800",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4 mr-2 ".concat(o?"animate-spin":"")}),o?"Auto Refresh ON":"Auto Refresh OFF"]}),(0,a.jsxs)(p,{onClick:u,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Simular Detec\xe7\xe3o"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(d,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[(0,a.jsxs)(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(c,{className:"text-sm font-medium text-gray-300",children:"Total Analisados"}),(0,a.jsxs)(O,{open:m,onOpenChange:f,children:[(0,a.jsx)(V,{asChild:!0,children:(0,a.jsx)("button",{className:"p-1 rounded-full hover:bg-gray-700/50 transition-colors",children:(0,a.jsx)(_.Z,{className:"h-4 w-4 text-fuchsia-400 hover:text-fuchsia-300 cursor-pointer"})})}),(0,a.jsxs)(K,{className:"bg-white text-gray-900 max-w-md",children:[(0,a.jsx)(W,{children:(0,a.jsxs)(G,{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(_.Z,{className:"h-5 w-5 mr-2 text-fuchsia-600"}),"An\xe1lise por Categoria"]})}),(0,a.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Blister"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:L.Blister})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Frasco"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:L.Frasco})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Caixa"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:L.Caixa})]})]}),(0,a.jsx)("div",{className:"pt-3 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Geral:"}),(0,a.jsx)("span",{className:"text-xl font-bold text-fuchsia-600",children:B})]})})]})]})]})]}),(0,a.jsxs)(x,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:B}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"objetos processados"})]})]}),(0,a.jsxs)(d,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[(0,a.jsxs)(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(c,{className:"text-sm font-medium text-gray-300",children:"Produtos Corretos"}),(0,a.jsx)(z.Z,{className:"h-4 w-4 text-green-400"})]}),(0,a.jsxs)(x,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:M}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:[B>0?"".concat(Math.round(M/B*100),"%"):"0%"," de acerto"]})]})]}),(0,a.jsxs)(d,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[(0,a.jsxs)(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(c,{className:"text-sm font-medium text-gray-300",children:"Produtos Incorretos"}),(0,a.jsx)(E.Z,{className:"h-4 w-4 text-red-400"})]}),(0,a.jsxs)(x,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-400",children:P}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:[B>0?"".concat(Math.round(P/B*100),"%"):"0%"," de erro"]})]})]}),(0,a.jsxs)(d,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[(0,a.jsxs)(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(c,{className:"text-sm font-medium text-gray-300",children:"Tempo M\xe9dio"}),(0,a.jsx)(I.Z,{className:"h-4 w-4 text-fuchsia-400"})]}),(0,a.jsxs)(x,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-white",children:[H,"ms"]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"tempo de infer\xeancia"})]})]})]}),(0,a.jsxs)(d,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[(0,a.jsx)(i,{children:(0,a.jsxs)(c,{className:"text-white flex items-center",children:[(0,a.jsx)(D.Z,{className:"h-5 w-5 mr-2 text-fuchsia-400"}),"Tempo de Infer\xeancia ao Longo do Tempo"]})}),(0,a.jsx)(x,{children:(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(C.h,{width:"100%",height:"100%",children:(0,a.jsxs)(k.w,{data:s,children:[(0,a.jsx)(R.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,a.jsx)(T.K,{dataKey:"time",stroke:"#9CA3AF",fontSize:12}),(0,a.jsx)(F.Q,{stroke:"#9CA3AF",fontSize:12,label:{value:"Tempo (ms)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9CA3AF"}}}),(0,a.jsx)(A.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),(0,a.jsx)(Z.x,{type:"monotone",dataKey:"tempo",stroke:"url(#gradient)",strokeWidth:3,dot:{fill:"#EC4899",strokeWidth:2,r:4},activeDot:{r:6,fill:"#EC4899"}}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#C026D3"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#EC4899"})]})})]})})})})]}),(0,a.jsxs)(d,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[(0,a.jsx)(i,{children:(0,a.jsxs)(c,{className:"text-white flex items-center",children:[(0,a.jsx)(_.Z,{className:"h-5 w-5 mr-2 text-fuchsia-400"}),"Resultados em Tempo Real"]})}),(0,a.jsx)(x,{children:(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(j,{children:(0,a.jsxs)(N,{className:"border-gray-700",children:[(0,a.jsx)(v,{className:"text-gray-300",children:"Time Stamp"}),(0,a.jsx)(v,{className:"text-gray-300",children:"Classe Detectada"}),(0,a.jsx)(v,{className:"text-gray-300",children:"Categoria"}),(0,a.jsx)(v,{className:"text-gray-300",children:"Status"}),(0,a.jsx)(v,{className:"text-gray-300",children:"Tempo de Infer\xeancia"})]})}),(0,a.jsx)(y,{children:e.slice(0,10).map(e=>(0,a.jsxs)(N,{className:"border-gray-700 hover:bg-gray-700/30",children:[(0,a.jsx)(w,{className:"text-gray-300 font-mono text-sm",children:e.timestamp}),(0,a.jsx)(w,{className:"text-white font-medium",children:e.classe}),(0,a.jsx)(w,{children:(0,a.jsx)(h,{variant:"outline",className:"border-gray-600 text-xs ".concat("Blister"===e.categoria?"text-blue-400 border-blue-400":"Frasco"===e.categoria?"text-green-400 border-green-400":"text-orange-400 border-orange-400"),children:e.categoria})}),(0,a.jsx)(w,{children:(0,a.jsx)(h,{variant:e.correto?"default":"destructive",className:e.correto?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white",children:e.correto?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.Z,{className:"h-3 w-3 mr-1"}),"Correto"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Z,{className:"h-3 w-3 mr-1"}),"Incorreto"]})})}),(0,a.jsxs)(w,{className:"text-gray-300 font-mono",children:[e.tempoInferencia,"ms"]})]},e.id))})]}),0===e.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Aguardando dados de detec\xe7\xe3o..."})]})})]})]})})}G.displayName=B.Dx.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(B.dk,{ref:t,className:n("text-sm text-muted-foreground",s),...r})}).displayName=B.dk.displayName}},function(e){e.O(0,[604,971,117,744],function(){return e(e.s=2032)}),_N_E=e.O()}]);